name: Create Completed Ticket for Colaboration Cycle Touchpoint

on:
  # issues:
  #   types: [labeled]
  pull_request:

jobs:
  # ticket-creation:
  #   name: Create Completed Ticket
  #   runs-on: ubuntu-latest
    # steps:
      # - name: check for labels
      #   if: ${{ github.event.label.name == 'staging-review' && contains(github.event.issue.labels.*.name, 'CC-Request')  }}
      #   run: |
      #     echo "kickoff label added to cc request ticket"
      # - name: Checkout
      #   uses: actions/checkout@v3

      # - name: Set up Node.js
      #   uses: actions/setup-node@v2
      #   with:
      #     node-version: '18'

      # - name: Setup Yarn
      #   shell: bash
      #   run: npm i -g yarn

      # - name: Install dependencies
      #   run: yarn install

      # - name: Run script
      #   run: node ./scripts/github-actions/create-cc-completed-ticket.js
  create_issue:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: Create issue using REST API
        run: |
          curl --request POST \
          --url https://api.github.com/repos/${{ github.repository }}/issues \
          --header 'authorization: Bearer ${{ secrets.GITHUB_TOKEN }}' \
          --header 'content-type: application/json' \
          --data '{
            "title": "This is a test",
            "body": "This is a test."
            }' \
          --fail