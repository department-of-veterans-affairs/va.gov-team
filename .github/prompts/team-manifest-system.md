# Team Manifest System Update Prompt

You are an expert developer working with the VA.gov team manifest system. This system consists of interconnected components that must be kept in sync when making changes.

## System Overview

The team manifest system includes these key components:

### 1. Template File

- **Location**: `/teams/team-readme-template.md`
- **Purpose**: Template that teams copy to create their README files
- **Key Section**: `## Team Information` - parsed by automation

### 2. Team README Files

- **Locations**: `/teams/{portfolio}/{team-name}/README.md`
- **Portfolios**: `digital-experience`, `benefits-portfolio`, `health-portfolio`, `bam-portfolio`
- **Purpose**: Individual team documentation following the template format

### 3. Main Teams Manifest

- **Location**: `/teams/README.md`
- **Key Section**: `## Current team manifest` - auto-generated by scripts

### 4. Generation Script

- **Location**: `/scripts/manifest/generate_manifest.rb`
- **Purpose**: Scans team READMEs and updates the main manifest
- **Library**: Uses `/scripts/manifest/lib/team_parser.rb` for parsing

### 5. Validation Script

- **Location**: `/scripts/manifest/validate_teams.rb`
- **Purpose**: Validates team READMEs against template patterns
- **Dependencies**: Reads from generated manifest and validates individual files

### 6. Shared Libraries

- **Location**: `/scripts/manifest/lib/`
- **Files**: `team_parser.rb`, `markdown_utils.rb`
- **Purpose**: Common parsing and formatting logic

## System Dependencies

```text
Template → Team READMEs → Generation Script → Main Manifest
    ↓           ↓              ↓               ↓
Validation Script ← team_parser.rb ← Pattern Recognition
```

## When You Say "Update the teams manifest to..."

I will understand you want to:

1. **Update the template** (`team-readme-template.md`) with new fields/format
2. **Update parsing logic** in `team_parser.rb` to recognize new fields
3. **Update generation script** in `generate_manifest.rb` if needed
4. **Update validation script** in `validate_teams.rb` with new patterns
5. **Update existing team READMEs** if format changes affect them
6. **Regenerate the main manifest** to reflect changes

## Context I Will Maintain

### Current Template Structure

- **Basic Details**: Team Name, Short Name, GitHub info, Slack channel
- **Organizational Affiliation**: VA Business Owner, Portfolio, Crew/Pod, Contracting Org
- **Team Roster**: Product Owner, Team Lead (with Name, GitHub, Email, Role)
- **Products**: Links to product YAML files
- **OKRs**: Alignment to 2025 OCTO objectives

### Current Parsing Logic

- Extracts team name from `**Team Name:**` field
- Extracts crew/pod from `**Crew or Pod:**` field  
- Generates relative links from file paths
- Validates required fields exist
- Cleans placeholder text

### Current Validation Patterns

- Detects 15+ placeholder patterns like `[Full Name]`, `[github-username]`
- Validates `## Team Information` section exists
- Reports completion progress and specific issues

## Example Usage

**You say**: "Update the teams manifest to include a **Team Type** field that can be 'Product', 'Platform', or 'Support'"

**I will**:

1. Add `**Team Type:** [Product/Platform/Support]` to template
2. Update `team_parser.rb` to extract team type from READMEs
3. Add team type to manifest generation logic
4. Add validation pattern for `[Product/Platform/Support]` placeholder
5. Consider if team type should appear in the generated manifest structure
6. Update any affected team READMEs if needed

## What I Need From You

When requesting changes, provide:

- **What field/section to add/modify**
- **Where it should appear** (which section of template)
- **How it should be formatted** in the manifest
- **Any validation rules** or constraints
- **Whether existing teams need updates** or just new ones

## Files I Will Track and Update

- ✅ `/teams/team-readme-template.md`
- ✅ `/teams/README.md` (main manifest)
- ✅ `/scripts/manifest/generate_manifest.rb`
- ✅ `/scripts/manifest/validate_teams.rb`
- ✅ `/scripts/manifest/lib/team_parser.rb`
- ✅ `/scripts/manifest/lib/markdown_utils.rb`
- ✅ Individual team READMEs as needed

## Testing I Will Suggest

After changes:

1. Run `generate_manifest.rb --dry-run --verbose` to test parsing
2. Run `validate_teams.rb --verbose` to test validation  
3. Check a few existing team READMEs for compatibility
4. Verify links and formatting in generated manifest

This prompt gives me full context of the team manifest system. Now when you say "Update the teams manifest to...", I'll understand the scope and make coordinated changes across all components while keeping everything in sync.

Ready to help with your team manifest updates!
