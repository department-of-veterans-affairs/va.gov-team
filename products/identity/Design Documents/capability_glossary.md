# Identity Capability Glossary

This document serves as initial definitions of each of the capabilities the [VA.gov](http://va.gov/) Identity team is responsible for.

## Core Capabilities

1. `Logging and Monitoring, Security, and Incident Response`
    1. The logging and monitoring, security and response for all authentication components on [VA.gov](http://va.gov/) are updated, monitored and maintained by the Identity team. These solutions are made available to all applications that are integrated with the USiP and SiS. The main solution we share our metrics over is Datadog. We can provide an open to the public live view of the performance of authentication as general and specific as required for all services integrated with Identity.
2. `MPI Integration` Master Person Index which is officially the source of truth for VA user information
    1. [User attribute mapping and storage](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/identity/Design%20Documents/UserAccount_Attributes.md): `UserAccount`and `UserVerification`objects are created and maintained from two different methods, Single Sign-On (SSOe) and Sign in Service (SiS) authentication workflows.
    2. accounts table lookup - VA employee: ability to lookup user account status information which doesn’t include PII. We store a unique identifier for the user in our persisted databases which then can be used to perform lookups in trusted databases within MPI.
3. [`Unified Sign-in Page (USiP)`](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/identity/Design%20Documents/Unified%20Sign%20In%20Pages/README.md): A reusable [VA.gov](http://va.gov/) sign in modal which can be used by any VA application.
    1. Custom user attribute filtering: the service has the ability to apply custom logic on a per attribute and per application basis. For example if the MHV app wanted to redirect all users whose first name started with an A to a special page on their app, our service can provide a less than one sprint delivery of the feature request. We also have several built in already that can be selected with no additional time required, for example if an application wanted to use the sign-in-service instead of SSOe, we can turn that on immediately.
    2. SPA for authentication broker: For single page applications we can provide frontend redirect authentication with our hosted USiP (instead of the application hosting their own login page we can do it for them).
4. [`Sign-in-Service (SiS)`](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/identity/Sign-In%20Service/readme.md)
    1. Mocked auth: enables engineers and product testers to click through authentication without needing to enter credentials to test an authenticated endpoint on [VA.gov](http://va.gov/). This doesn't mock [login.gov](http://login.gov/)’s interaction, it simply creates a session on [localhost](http://localhost/) or dev to enable testing.
    2. [OAuth - Mobile](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/identity/Sign-In%20Service/auth_flows/mobile_oauth.md): The VA Mobile App integration is an example of our API based PKCE OAuth integration.
    3. [OAuth - Web](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/identity/Sign-In%20Service/auth_flows/web_oauth.md): The [VA.gov](http://va.gov/) application is an example of our cookie based PKCE OAuth integration.
    4. Secure Token Service (STS): enables applications teams to securely request tokens from vets-api and communicate to other services from outside of the VA network. More documentation on this service to follow.
5. `Inherited Proofing (IP):` The general concept of accepting known information regarding an individual who is attempting to access sensitive information on a VA application from a different credential provider than the one the person is currently attempting to use.
    1. DSLogon Grandfathering: A solution that is still being developed however the initial plan is to label an IAL1 [Login.gov](http://login.gov/) account as IAL2 if we determine the user has an LOA2 DSLogon credential within VA. This will allow the user to access sensitive information about the DSLogon user without needing to go through the user verification process on [Login.gov](http://login.gov/). The benefit will only be felt within the VA space and not at other agencies that use [Login.gov](http://login.gov/).
    2. [MHV in person proofed](https://github.com/department-of-veterans-affairs/va.gov-team/tree/master/products/identity/Inherited%20Proofing/MHV%20Inherited%20Proofing): An API was created within [VA.gov](http://va.gov/) that interacts with an MHV API that will provide information about currently logged in MHV users. This information includes how the MHV user on [VA.gov](http://va.gov/) provided proof of who they are to MHV. This information would be passed on to [login.gov](http://login.gov/) in order to not prompt the MHV users for the same information they had provided before, in hopes of streamlining the verified [login.gov](http://login.gov/) verification process.
6. `User Model`
    1. [VA.gov](http://va.gov/) integration: The User Model, available on the `vets-api` backend for authenticated requests, correlates as many known attributes about a user as possible for various application functions. The User model uses a combination of MPI, EVSS, VAProfile, authentication headers, and persistent `vets-api` tables (such as the `UserAccount` and `UserVerification` tables) to ensure application functions are able to consistently query attributes about a user. If a user has authenticated through the [VA.gov](http://va.gov/) frontend, whether through the Sign in Service, or SSOe flow, the User model is used to customize backend responses.
    2. Mobile integration: With the 100% integration of Sign in Service for mobile authentication, the [VA.gov](http://va.gov/) User Model is now used for mobile too. Much of the functionality is equivalent, although there are slight differences and expectations that must be considered for mobile purposes (such as LOA1/IAL1 users, who are prevented from authenticating with mobile, but are able to authenticate directly with [VA.gov](http://va.gov/)).
    3. Lighthouse integration: Lighthouse uses an alternate authentication method from mobile and [VA.gov](http://va.gov/), however their user models are subclassed from the standard User model. Because of this, Lighthouse applications leverage much of the User model functionality, and there is an expectation of support for this functionality
    4. [AVC/IVC tracking](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/identity/Design%20Documents/AVC_IVC_Logs.md): The `UserAcceptableVerifiedCredential` table is now used to track users who are detected to have an associated verified [Login.gov](http://login.gov/) (Acceptable Verified Credential, or AVC) credential or an associated verified [ID.me](http://id.me/) ([Id.me](http://id.me/) Verified Credential, or IVC) credential. This tracking allows us to take any individual user and determine whether they have an AVC or IVC, and at what point it was detected that they associated one of these credentials. This table tracks these changes from the perspective of authentications on [VA.gov](http://va.gov/), so it is possible for there to be false negatives. That is, it is possible to assume a user does not have an AVC or IVC when they actually do, until the user actually authenticates with [Login.gov](http://login.gov/) or [ID.me](http://id.me/) on [VA.gov](http://va.gov/) successfully.
    5. User Roles: There is the ability to inspect detected relationships to any current authenticated user. Relationship in this context is defined as any associated person to the authenticated user, including but not limited to: spouses, children, parents, care takers, and other people who may fulfill a necessary associated role to the user. This enables potential features, such as the ability for a user to download a benefits letter on behalf of an associated family member.
7. `Reduce Fraud`
    1. Advanced logging: The [VA.gov](http://VA.gov) Identity team has created several logging capabilities which enable fraud waste and abuse investigations
    2. Response: The team has setup procedures to provide information and ability to take any action required to protect accounts that are actively being compromised by bad actors at the request of the FWA team.
8. `[VA.gov](http://va.gov/) User interactions`
    1. Opt-in to service: A service which currently specifically allows a user to opt-in to use a new MHV related service. The Components were built in a way which allows them to be repeated and customized to allow any app to have an individually tracked opt-in or out service.
9. `SSOe Maintenance:` generally refers to all the support the [VA.gov](http://VA.gov) Identity team works on for the existing VA.gov authentication solution. This includes maintaining certs and connections with the ISAM and MPI which provide the source of truth for all VA user data. This also includes reviewing modifications to identity related code on vets-api, vets-website, devops, and manifests repo.
10. `Identity Dashboard:` A suite of applications created and maintained by the [VA.gov](http://va.gov/) Identity team to provide VA employees and contractors with a set of tools to integrate, maintain, and monitor their integration with Sign in Service. The dashboard also contains a few additional tooling to allow for VA teams to obtain application logs to further support service offerings and insight. The planned list of services that will be offered on the Identity Dashboard are:
    1. Client config - A landing page which allows team to request a new or updated configuration of their sign in service integration.
    2. Admin Portal - A portal where teams can register and maintain team member access.
    3. Performance Dashboard - A view into the application teams integration stats as it pertains to their Sign in Service integration.
    4. MPI Search - A tool which allows properly authorized individuals with the ability to search for a person within the Master Person Index by their ICN. The records returned will provide all the unique identifiers of each person. (Note: We will not display the full SSN of the user)
    5. BDPR Information Portal - A portal which provides the requested information of the BDPR team. Information provided is upon request of the team and these statements are vague until the requirements are finalized and approved.
