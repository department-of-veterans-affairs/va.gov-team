# Initiative: Healthcare react widgets consume facility/system data from CMS instead of hard-coded array

NOTE: As of Nov 2023, Oracle has acquired Cerner, and Cerner is now Oracle Health. 

#### Overview

This is a purely technical change, with no change to the user experience.

The CTA widgets check the facilities that a user is associated with and then provide buttons that direct the user to either VistA or Oracle Health (formerly Cerner), as appropriate per facility/system. The MVP implementation of the CTA Widget used a hard-coded array in the `index.js` file to associate specific VA systems/locations with Oracle Health. In this iteration, the Drupal CMS provides the data object associating medical systems with either Oracle Health or VistA.

## Outcome Summary

When we're successful, across all experiences on VA.gov related to Oracle Health/VistA, cutting a system/facility over to Oracle Health will be a matter of configuration (in Drupal) rather than a code change that has to be deployed to reach users. 

**Related/Associated product(s)**
- CTA widget | [Link to product outline ](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/cta-widget/product-outline.md)


## Discovery
### Assumptions/Risks
> *Identify risks related to usability, value to users, feasibility/implementation, and viability given organizational constraints<sup>2</sup>. 
> Indicate how you'll validate/test against these risks.*

- **Value Risks** (will people use it): 
  - none
- **Usability Risks** (can people figure out how to use it):
  - none
- **[Technical] Feasibility Risks** (can we build it with available tech/data):
  - We have identified two authenticated experiences that rely on the existing hard-coded implementation and will therefore need to test this iteration: MyVA (Profile) and VAOS (Online Scheduler)
  
- **Organizational Viability Risks/Constraints** (will there be a positive organizational impact):
  - No risks

### Prioritization
> *Describe how the team will consider competing solution hypotheses/ideas. Prioritize them accounting for reach, impact/value, effort, and confidence.*

### Solution Summary
> *What's in scope for you to build with this initiative? Describe key features/flows. What have you explicitly decided to **not** include and why?*

The Drupal CMS has already been configured with an EHR selector per medical system, and it has been validated in production. It is currently driving certain Top Task-related CTAs on VAMC pages. 

For our iteration, we are making that same CMS data available to the front-end via a JSON file. The JSON is generated by a new step in the content-build procses. We will make the data available to the FE javascript using the same flag that front-end applications use in the CRWs currently. We will have to make minor changes to this due to the asynchronous nature of the json file consumption (as compared to the synchronous hard-coded array).

--- 

## Launch Planning
### Collaboration Cycle
> ðŸ’¡ *Use for any Collab Cycle tracking, questions.*

- [Kickoff ticket](https://github.com/department-of-veterans-affairs/va.gov-team/issues/41411)

### Go-to-market 
> *What marketing, outreach, or communications are necessary for this product to be successful? Which groups/orgs are necessary to make this happen?*

None

### Timeline 
> *Describe any major milestones for this initiative including organizational, legislative, etc. constraints.*

Release date TBD â€“Â only constraint is ensuring that we have a window in which to test thoroughly without risking a disruption in production. Ideally we will find a 3-4 week break between new Oracle Health cutovers.

* [Link to Release Plan for this Initiative](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/product-management/release-plan-template.md)

#### Initiative Launch Dates
- *Target Launch Date*
  - tbd
- *Actual Launch Date* 
  - tbd

---
   
## Screenshots

**There are no user-facing changes to the Oracle Health React Widget experience.**

### Before

<img width="319" alt="image" src="https://user-images.githubusercontent.com/4054752/171521686-041b795a-9fef-4467-af6c-541ff9011bdf.png">


### After

SAME

---

#### Communications
*Where will you discuss this initiative?*

<details>

- Team Name: Public Websites
- GitHub Label(s): Public Websites
- Slack channel: #sitewide-public-websites
- Product POCs: Wes Rowe

</details>


#### Stakeholders
*What offices/departments are critical to make this initiative successful?*

<details>
  
- Office/Department:
- Contact(s): 
 
</details>

---
<sup>1</sup> [VA.gov Analytics - KPI Framework](https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/analytics/Analytics%20Playbook/va-gov-platform-analytics-kpi-framework.pdf)\
<sup>2</sup> [SVPG: The Four Big Risks](https://svpg.com/four-big-risks/)
